!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("tslib")):"function"==typeof define&&define.amd?define(["exports","tslib"],t):t(e.gondelPluginStorage={},e.tslib)}(this,function(e,t){"use strict";var r=function(){function e(e,t){if(this.name=e,this.store=t,this.config={prefix:"",postfix:"",delimitier:""},!t)throw new Error("Stroage not available in your environment")}return e.prototype.configure=function(e){this.config=t.__assign({},this.config,e)},e.prototype.get=function(e,t){var r=this.store.getItem(this.generateAccessorKey(e));if(r)return t?t.deserialize(r):r},e.prototype.set=function(e,t,r){var i="";i=r&&"string"!=typeof t?r.serialize(t):t,this.store.setItem(this.generateAccessorKey(e),i)},e.prototype.remove=function(e){this.store.removeItem(e)},e.prototype.clear=function(){this.store.clear()},e.prototype.toString=function(){return"Adapter { "+this.name+" }"},e.prototype.generateAccessorKey=function(e){return[this.config.prefix,e,this.config.postfix].join(this.config.delimitier)},e}(),f=new r("local",window.localStorage);new r("session",window.sessionStorage);function a(e){var t=e.target,r=e.propertyKey,i=e.storeKey,o=void 0===i?r:i,n=e.storageAdapter,s=void 0===n?f:n,a=e.serializer;Object.defineProperty(t,r,{get:function(){return s.get(o,a)},set:function(e){s.set(o,e,a)}})}var i={serialize:function(e){return""+e},deserialize:function(e){return"true"===e}},o={serialize:function(e){return""+e},deserialize:function(e){return parseFloat(e)}},n={serialize:function(e){return JSON.stringify(e,null,0)},deserialize:function(e){return JSON.parse(e)}};e.Adapter=r,e.storage=function(e,t,r){if("string"==typeof e&&"string"!=typeof t){var i=e,o=t;return function(e,t){e.__gondelStoragePlugin=!0,a({target:e,storageAdapter:r,storeKey:i,propertyKey:t,serializer:o})}}if("string"==typeof e||"string"!=typeof t)throw new Error("Unexpected usage of @storage");var n=e,s=t;n.__gondelStoragePlugin=!0,a({target:n,propertyKey:s})},e.BooleanSerializer=i,e.NumberSerializer=o,e.JSONSerializer=n,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.es5.min.js.map
